@let userResource = _service.usersResource;
<app-table
  #userTable
  [resourceRef]="userResource.resource"
  [header]="tableHeader"
  [body]="tableBody"
  [(pageNumber)]="userResource.pageNumber"
  [(pageSize)]="userResource.pageSize">
  <ng-template #tableHeader>
    <tr flowbiteTableHead>
      <th
        scope="col"
        class="px-6 py-3"
        (click)="userResource.onSortChange('id')">
        <span class="flex flex-row">
          {{ 'misc.id' | translate }}
          @if (userResource.sortRequest()['id'] !== undefined) {
            @if (userResource.sortRequest()['id'] === true) {
              <flowbite-icon
                name="arrowUp"
                class="size-4" />
            } @else {
              <flowbite-icon
                name="arrowDown"
                class="size-4" />
            }
          }
        </span>
      </th>
      <th
        scope="col"
        class="px-6 py-3"
        (click)="userResource.onSortChange('createdAtUtc')">
        <span class="flex flex-row">
          {{ 'misc.createdAt' | translate }}
          @if (userResource.sortRequest()['createdAtUtc'] !== undefined) {
            @if (userResource.sortRequest()['createdAtUtc'] === true) {
              <flowbite-icon
                name="arrowUp"
                class="size-4" />
            } @else {
              <flowbite-icon
                name="arrowDown"
                class="size-4" />
            }
          }
        </span>
      </th>
      <th
        scope="col"
        class="px-6 py-6">
        {{ 'misc.actions' | translate }}
      </th>
    </tr>
  </ng-template>
  <ng-template
    #tableBody
    let-record>
    <tr flowbiteTableBody>
      <td class="px-6 py-4 font-medium">
        {{ record.id }}
      </td>
      <td class="px-6 py-4">
        {{ record.createdAtUtc | datePipe }}
      </td>
      <td class="px-6 py-4">
        <button
          flowbiteButton
          [ngpMenuTrigger]="userActionsDropdown">
          <span class="sr-only">Actions menu toggle</span>
          <flowbite-icon
            name="dotsVertical"
            class="size-4 stroke-2" />
        </button>
        <ng-template #userActionsDropdown>
          <div flowbiteDropdown>
            <ul flowbiteDropdownContent>
              <li
                flowbiteDropdownItem
                color="failure">
                <flowbite-icon
                  name="trashBin"
                  class="mr-2 size-4 stroke-2" />
                {{ 'misc.delete' | translate }}
              </li>
            </ul>
          </div>
        </ng-template>
      </td>
    </tr>
  </ng-template>
</app-table>
